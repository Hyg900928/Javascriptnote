<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body {
            height: 10000px;
        }

        /*#btn {*/
        /*  position: absolute;*/
        /*  left: 50%;*/
        /*  top: 2000px;*/
        /*  transform: translateX(-50%);*/
        /*}*/
        p {
            /*position: absolute;*/
            /*left: 50%;*/
            /*top: 2000px;*/
            /*background: red;*/
            /*transform: translateX(-50%);*/
        }

    </style>
</head>
<body>
<button id="btn">展示焦点</button>
<p id="content"></p>
</body>
</html>
<script>
    setInterval("myFunction()", 1);

    function myFunction() {
        const x = document.getElementById("content");
        if (document.hasFocus()) {
            x.innerHTML = "文档已获取焦点。";
        } else {
            x.innerHTML = "文档失去焦点。";
        }
    }

    // 浮点数相加导致精度问题
    const accAdd = (arg1, arg2) => {
        let r1, r2, m;
        try {
            r1 = arg1.toString().split(".")[1].length
            console.log('r1 ==> ', r1)
        } catch (e) {
            r1 = 0
        }
        try {
            r2 = arg2.toString().split(".")[1].length
            console.log('r2 ==> ', r2)
        } catch (e) {
            r2 = 0
        }
        m = Math.pow(10, Math.max(r1, r2))
        console.log('m==>', m)
        return (arg1 * m + arg2 * m) / m
    }

    const res = accAdd(9.36, 0.36)
    console.log('res===>', res)

</script>

